
Must solve test cases ton understand exact flow


"4[2[jk]]"  -> It was failing again and again for me because of this test case.



class Solution {
    public String decodeString(String s) {
        Stack<String> stack = new Stack<>();
        for(char c : s.toCharArray()){
            if(c != ']'){
                stack.push(String.valueOf(c));
            }else{
                StringBuilder charsStr = new StringBuilder();
                StringBuilder digitStr = new StringBuilder();
                while(! stack.isEmpty() && ! stack.peek().equals("[")){
                    charsStr.insert(0, stack.pop());
                }
                if(! stack.isEmpty())
                    stack.pop();
                while(! stack.isEmpty() &&  Character.isDigit(stack.peek().charAt(0))){
                    digitStr.append(stack.pop());
                }
                int count = Integer.parseInt(digitStr.reverse().toString());
                String decodedPart = charsStr.toString().repeat(count);
                stack.push(decodedPart);
            }
        }
        StringBuilder result = new StringBuilder();
        while(! stack.isEmpty()){
            result.insert(0, stack.pop());
        }
        return result.toString();
    }
}


Time (amortized)	O(n)	Each character pushed/popped once
Time (including expansion)	O(n + m)	m = decoded output length
Space	O(n + m)	Stack + final output buffer
